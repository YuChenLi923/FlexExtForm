var createForm=(function createForm(){var e={},c=null,k=document,n=null,g,i,o,h=null,a=null,m={addListener:function(p,r,q){if(p.addEventListener){p.addEventListener(r,q,false)}else{if(p.attachEvent){p.attachEvent("on"+r,q)}else{p["on"+r]=q}}},getEvent:function(p){return p||window.event||arguments.callee.caller.arguments[0]},getTarget:function(p){return p.target||p.srcElement}};function d(q,p){this.Id=q.ID;this.Type=q.Type;this.pattern=q.Pattern;this.input=k.getElementById(q.ID);this.value=this.input.value;this.mask=0;this.flag=1;this.URL=p;this.ajax=q.Ajax}d.prototype={constructor:d,SayWarn:function(){this.value=this.input.value;if(this.value){if(this.pattern==" "||this.pattern.test(this.value)){n(0,this.Type);if(!this.ajax){this.flag=1}this.mask=1}else{n(1,this.Type);this.flag=0;this.mask=0}}else{n(2,this.Type);this.flag=0}},FormAjax:function(){var p=this.URL,q=this;ajaxExpanding.init({name:"form_ajax",type:"get",async:"true",contentType:"text",accept:"text",charset:"utf-8"});if(this.mask==1){ajaxExpanding.send({url:o,data:{Value:this.value,Type:this.Id},onSuccess:function(r){n(3,this.Type,r)},onFail:function(){n(4,q.Type)}},"form_ajax",this);this.mask=0}},sameWarn:function(){if(this.Id.indexOf("repeat")==0){var p=k.getElementById(this.Id.replace(/^repeat/,""));if(this.input.value!=p.value){n(5,this.Type);this.flag=0}else{n(6,this.Type)}}}};function b(){var r=0,q=0,p;n(7);l(c,i,Form,n)}function l(t,p,s,u,r){var q=1;ajaxExpanding.send({url:i,data:t,onSuccess:function(v){n(8,this.Type,v)},onError:function(){n(9,this.Type)},onfileUpCallback:function(){n(10,this.Type)}},"form",this)}var f={click:function(){m.addListener(g,"click",function(){if(a||a==null){b()}})},keydown:function(){m.addListener(window,"keydown",function(p){var q=m.getEvent(p);if(q.keyCode==13&&(a||a==null)){b()}})},touch:function(){m.addListener(g,"touchstart",function(){if(a||a==null){b()}})},change:function(){m.addListener(c,"change",function(q){var q=m.getEvent(q),r=m.getTarget(q),p=r.name;if(e[p]){if(p.indexOf("repeat")==0){e[p].sameWarn()}e[p].SayWarn();if(e[p].ajax){e[p].FormAjax()}}})}};function j(q){for(var r=0,p=q.length;r<p;r++){f[q[r]]()}}return function(q,w,y,x,z,s,t,p){var v=q.length;i=s;o=t;for(var u=0;u<v;u++){var r=q[u];h=new d({ID:r.id,Type:r.type,Pattern:r.pattern,Ajax:r.ajax},o);e[r.id]=h}g=k.getElementById(z);p=p;c=k.getElementById(x);j(y);n=w;ajaxExpanding.init({name:"form",type:"post",async:"true",contentType:"form",charset:"utf-8",data:c})}})();