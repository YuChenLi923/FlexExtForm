var createForm=(function createForm(){var d={},b=null,j=document,m=null,f,h,n,g=null,l={addListener:function(o,q,p){if(o.addEventListener){o.addEventListener(q,p,false)}else{if(o.attachEvent){o.attachEvent("on"+q,p)}else{o["on"+q]=p}}},getEvent:function(o){return o||window.event||arguments.callee.caller.arguments[0]},getTarget:function(o){return o.target||o.srcElement}};function c(p,o){this.Id=p.ID;this.Type=p.Type;this.pattern=p.Pattern;this.input=j.getElementById(p.ID);this.value=this.input.value;this.mask=0;this.flag=1;this.URL=o;this.ajax=p.Ajax}c.prototype={constructor:c,SayWarn:function(){this.value=this.input.value;if(this.value){if(this.pattern==" "||this.pattern.test(this.value)){m(0,this.Type);if(!this.ajax){this.flag=1}this.mask=1}else{m(1,this.Type);this.flag=0;this.mask=0}}else{m(2,this.Type);this.flag=0}},FormAjax:function(){var o=this.URL,p=this;ajaxExpanding.init({type:"get",async:"true",contentType:"text",accept:"text",charset:"utf-8"});if(this.mask==1){ajaxExpanding.send({url:n,data:{Value:this.value,Type:this.Id},onSuccess:function(q){m(3,this.Type,q)},onFail:function(){m(4,p.Type)}},this);this.mask=0}},sameWarn:function(){if(this.Id.indexOf("repeat")==0){var o=j.getElementById(this.Id.replace(/^repeat/,""));if(this.input.value!=o.value){m(5,this.Type);this.flag=0}else{m(6,this.Type)}}}};function a(){var q=0,p=0,o;m(7);k(b,URL,Form,m)}function k(s,o,r,t,q){var p=1;ajaxExpanding.init({type:"post",async:"true",contentType:"form",charset:"utf-8"});ajaxExpanding.send({url:h,data:s,onSuccess:function(u){m(8,this.Type,u)},onError:function(){m(9,this.Type)}},this)}var e={click:function(){l.addListener(f,"click",function(){if(f.getAttribute("switch")=="on"){a()}})},keydown:function(){l.addListener(window,"keydown",function(o){var p=l.getEvent(o);if(p.keyCode==13){a()}})},touch:function(){l.addListener(f,"touchstart",function(){if(f.getAttribute("switch")=="on"){a()}})},change:function(){l.addListener(b,"change",function(p){var p=l.getEvent(p),q=l.getTarget(p),o=q.name;if(d[o]){if(o.indexOf("repeat")==0){d[o].sameWarn()}d[o].SayWarn();if(d[o].ajax){d[o].FormAjax()}}})}};function i(p){for(var q=0,o=p.length;q<o;q++){e[p[q]]()}}return function(o,u,w,v,x,q,r){var t=o.length;h=q;n=r;for(var s=0;s<t;s++){var p=o[s];g=new c({ID:p.id,Type:p.type,Pattern:p.pattern,Ajax:p.ajax},URL);d[p.id]=g}f=j.getElementById(x);f.setAttribute("switch","on");b=j.getElementById(v);i(w);m=u}})();